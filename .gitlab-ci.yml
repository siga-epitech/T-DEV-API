stages:
  - trigger_devops_pipeline
  - trigger_dev
  - trigger_prod

# Trigger le pipeline dans le projet DevOps (Dev)
stage: 
  - trigger_dev
trigger_devops_dev:  
  trigger:
    project: "t-dev.epitest.eu/718"  
    branch: "dev"
  variables:
    ENVIRONMENT: "dev"
  only:
    - dev
    - feature/ci-setup

# Trigger le pipeline dans le projet DevOps (Prod)
stage: 
  - trigger_prod
trigger_devops_prod:
  trigger:
    project: "t-dev.epitest.eu/718"  
    branch: "prod"
  variables:
    ENVIRONMENT: "prod"
  only:
    - prod

# Trigger le pipeline dans le projet DevOps pour une feature sp√©cifique
stage: 
  - trigger_devops_pipeline
trigger_devops_pipelines:
  trigger:
    project: "t-dev.epitest.eu/718"  
    branch: "feature/docker-configuration-siga"
  variables:
    ENVIRONMENT: "prod"
  only:
    - feature/ci-config


